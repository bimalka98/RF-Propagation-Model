\documentclass[a4paper,11pt]{article}%,twocolumn
%\documentclass[a4paper,11pt]{article}
\input{settings/packages}
\input{settings/page}
\input{settings/macros}
\usepackage[ framed, numbered]{matlab-prettifier}%framed,%

\begin{document}

\input{content/title_page}
\tableofcontents
\pagebreak
%%-----------------------------------------------------------------------
\section{Modeling the RF propagation Model Using Matlab}
%%-----------------------------------------------------------------------
\subsection{Relationship between Free Space Path Loss and Frequency}

\textit{Consider  following meanings for the parameters}\\

\begin{tabular}{l l }
	$P_{RX}$ & = Received Power at the Receiving Antenna\\
	$P_{TX}$ & = Transmitted Power at the Transmitting Antenna\\
	$f$ & = Frequency of the wave in Hz\\
	$f_{GHz}$ & = Frequency of the wave in GHz\\
	$d$& = Distance between the antennas in m\\
	$d_{km}$& = Distance between the antennas in km\\
	$G_{TX}$& = Directive gain of the Transmitter\\
	$G_{RX}$& = Directive gain of the Receiver\\
	$c$& = Velocity of the electromagnetic waves in a vacuum\\

\end{tabular}\\[1cm]


The relationship between above parameters can be given as follows
\[
\begin{split}
P_{RX} & = P_{TX}.\frac{c^2}{(4\pi.f.d)^2}.G_{TX}.G_{RX}
\end{split}
\]
From the above equation, free space path loss, say $L$
\[
\begin{split}
L = \frac{(4\pi.f.d)^2}{c^2}
\end{split}
\]

By considering $\ 10.log_{10}()$ in both sides, Free Space Path Loss in dB, say $L_{dB}$

\[
\begin{split}
\log_{10}(L) &= 10.\log_{10}(\frac{(4\pi.f.d)^2}{c^2})\\
L_{dB}& = 10.\log_{10}((4\pi.f.d)^2) - 10.\log_{10}(c^2)\\
&=20.\log_{10}(4\pi.f.d)-20.\log_{10}(c)\\
&=20.\log_{10}(4\pi)-20.\log_{10}(c) + 20.\log_{10}(f) + 20.\log_{10}(d)\\
&=20.\log_{10}(\frac{4\pi}{c}) + 20.\log_{10}(f) + 20.\log_{10}(d)\\
&= -147.5522168 + 20.\log_{10}(f_{GHz}.10^9) + 20.\log_{10}(d_{km}.10^3)\\
& = -147.5522168 + 20.\log_{10}(10^9)+ 20.\log_{10}(f_{GHz}) + 20.\log_{10}(10^3) + 20.\log_{10}(d_{km})\\
&= -147.5522168 + 180+ 20.\log_{10}(f_{GHz}) + 60 + 20.\log_{10}(d_{km})\\
&= -147.5522168 + 240+ 20.\log_{10}(f_{GHz}) + 20.\log_{10}(d_{km})\\
&= +92.44778322+20.\log_{10}(f_{GHz}) + 20.\log_{10}(d_{km})
\end{split}
\]
Since transmitter and receiver are located at distance of 10km apart, by substituting $d_{km}= 10$.\\

Free Space Path Loss in dB, $L_{dB}$ as a function of frequency in Giga Hertz

\[
\begin{split}
L_{dB}(f_{GHz})&=  +112.44778322+20.\log_{10}(f_{GHz})
\end{split}
\]

\textbf{\textit{Note : Axes of the following plots are given in the logarithmic scale and range of frequency was chosen from 10 GHz to 1000 GHz since some of the ITU-R models are only defined in that range.}}

\begin{figure}[h]
	\centering
	\includegraphics[scale=0.35]{figures/fspl}
	\caption{Relationship between Free Space Path Loss and Frequency}
\end{figure}



%%-----------------------------------------------------------------------
\pagebreak
\subsection{Rain attenuation, Fog attenuation and Atmospheric gas attenuation with Frequency}

\textit{Note : For the generation of following plots three of the Matlab built-in functions, namely \textbf{rainpl(), gaspl(), fogpl()} which are developed according to the ITU-R P Series recommendations were used and links for their documentations are given at the Reference section.}


\subsubsection{Rain attenuation - Recommendation ITU-R P.838-3, 2005}
The following plot shows how losses due to rain varies with frequency. The plot assumes the followings in addition to the provided information in the Task 1.\\

\begin{tabular}{l l}
Elevation angle of the propagation path& = 0 \\
Polarization tilt angle of the signal &= 0\\
\end{tabular}\\

In general, horizontal polarization represents the worse case for propagation loss due to rain.

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.35]{figures/rpl}
	\caption{Relationship between Rain attenuation and Frequency}
\end{figure}

\subsubsection{Fog attenuation - Recommendation ITU-R P.840-3, 2013}
The following plot shows how losses due to fog/cloud varies with frequency. The plot assumes the following provided information in the Task 1.\\

\begin{tabular}{l l}
	Ambient Temperature in Celsius&= 31\\
	Liquid Water Density in $g/m^3$&= 0.5\\
\end{tabular}\\

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.35]{figures/fpl}
	\caption{Relationship between Fog attenuation  and Frequency}
\end{figure}

\subsubsection{Atmospheric gas attenuation - Recommendation ITU-R P.676-10, 2013}

The plot below shows how the propagation loss due to atmospheric gases varies with the frequency. The plot assumes the followings in addition to the provided information in the Task 1.

\begin{tabular}{l l}
	 Dry air pressure in Pa&= 101325\\
	 Water Vapor Density in $g/m^3$&= 30.4\\
\end{tabular}


\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.35]{figures/gpl}
	\caption{Relationship between Atmospheric gas attenuation and Frequency}
\end{figure}

\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.45]{figures/all}
	\caption{Relationship between Various Path Losses and Frequency - All in One}
\end{figure}
%%-----------------------------------------------------------------------
\subsection{Total Path Loss with Frequency}
\textit{Note : Range of frequency was chosen from 10 GHz to 1000 GHz since some of the ITU-R models are only defined in that range.}
\begin{figure}[!h]
	\centering
	\includegraphics[scale=0.35]{figures/tpl}
	\caption{Relationship between Total Path Loss and Frequency}
\end{figure}

By inspecting the figure we can conclude that the minimum propagation loss is given at the frequency of 10 GHz. Therefore from this point onward, for the calculations it will be the frequency for transmission.

\subsection{Link Budget Calculation}

Parameters For the propagation model 
\begin{tabular}{l r} 
Chosen transmission frequency & 10 GHz\\
Total Path Loss & 136.9 dB\\
Transmission power & 50 kW or 47 dB\\
Transmitter Gain & 30 dB\\
Receiver Gain &24.77 dB\\
Link margin  &11 dB\\
Cable loss at Transmitter & 3 dB\\
Cable loss at Receiver &4 dB\\
\end{tabular}\\[1cm]

Let's find the actual received power at the receiver\\

\begin{tabular}{|l l| r|}
	\hline
Received Power =	&Transmission power & +47 dB\\
&	Cable loss at Transmitter & -3 dB\\
&	Transmitter Gain & 30 dB\\
&	Total Path Loss & -136.9 dB\\
&	Receiver Gain &+24.77 dB\\
&	Cable loss at Receiver &-4 dB\\\hline
Received Power =&&-42.13 dB\\\hline\hline	
\end{tabular}\\[1cm]


Therefore,\\ 
\begin{center}
	\begin{tabular}{l c c c}
Link margin  & =& Received Power& - Receiver Sensitivity\\
11 dB& = &-42.13 dB& - Receiver Sensitivity\\
Receiver Sensitivity &= &-53.13 dB& \\\hline\hline
\end{tabular}

\end{center}

\subsection{Transmitting a voice signal over a noisy channel using the above Transmission frequency and the Propagation model.}






\pagebreak
\subsection{Codes and Models for Task 1}

\lstinputlisting[basicstyle = \mlttfamily\scriptsize , style = Matlab-editor]{code/RFPL.m}

%%-----------------------------------------------------------------------
%\hrule
%\bibliographystyle{plain}
%\bibliography{refer}

%---------------------------------------------------------------------------
\end{document}
